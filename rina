<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>üíå</title>

  <style>
    :root{
      --bg1:#0b0b10;
      --bg2:#161428;

      --card1: rgba(255,255,255,.12);
      --card2: rgba(255,255,255,.07);
      --border: rgba(255,255,255,.18);

      --text: #f7f6ff;
      --muted: rgba(255,255,255,.78);

      --btn: #ffffff;
      --btnText:#15121f;

      --btnSoft: rgba(255,255,255,.12);
      --btnSoftText:#f7f6ff;

      --shadow: 0 18px 70px rgba(0,0,0,.50);
    }

    *{ box-sizing:border-box; }

    body{
      margin:0;
      min-height:100vh;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Helvetica Neue";
      color:var(--text);
      background:
        radial-gradient(1100px 700px at 20% 10%, rgba(255,150,210,.16) 0%, transparent 60%),
        radial-gradient(1000px 700px at 80% 18%, rgba(150,210,255,.12) 0%, transparent 60%),
        radial-gradient(900px 650px at 55% 85%, rgba(255,235,170,.10) 0%, transparent 62%),
        linear-gradient(160deg, var(--bg1), var(--bg2));
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
      overflow:hidden;
    }

    .glow{
      position:fixed;
      inset:-220px;
      background:
        radial-gradient(420px 320px at 28% 30%, rgba(255,120,180,.12), transparent 60%),
        radial-gradient(380px 280px at 72% 40%, rgba(140,200,255,.10), transparent 60%),
        radial-gradient(360px 300px at 55% 78%, rgba(255,230,160,.08), transparent 62%);
      filter: blur(12px);
      pointer-events:none;
      animation: drift 12s ease-in-out infinite alternate;
    }
    @keyframes drift{
      from{ transform: translate3d(-12px,-10px,0) scale(1.02); }
      to{ transform: translate3d(14px,12px,0) scale(1.04); }
    }

    .fx-layer{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:1;
      overflow:hidden;
    }
    .heart{
      position:absolute;
      bottom:-30px;
      font-size:18px;
      opacity:0;
      transform: translateY(0) translateX(0) scale(1);
      animation: floatUp 1.9s ease-out forwards;
      filter: drop-shadow(0 6px 18px rgba(0,0,0,.25));
    }
    @keyframes floatUp{
      0%   { opacity:0; transform: translateY(0) translateX(0) scale(.9); }
      12%  { opacity:1; }
      100% { opacity:0; transform: translateY(-250px) translateX(var(--dx)) scale(1.25); }
    }

    .wrap{ width:min(760px, 100%); position:relative; z-index:2; }

    .card{
      background: linear-gradient(180deg, var(--card1), var(--card2));
      border:1px solid var(--border);
      border-radius:28px;
      box-shadow: var(--shadow);
      padding:28px;
      backdrop-filter: blur(12px);
      overflow:hidden;
      position:relative;
    }

    .top{ display:flex; align-items:center; justify-content:center; margin-bottom:16px; }
    .badge{
      font-size:14px;
      letter-spacing:.08em;
      color: rgba(255,255,255,.88);
      padding:8px 14px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.06);
      user-select:none;
    }

    .stage{ position:relative; min-height:310px; }

    .scene{
      position:absolute;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      text-align:center;
      padding:16px 6px;
      opacity:0;
      transform: translateY(10px) scale(.99);
      pointer-events:none;
      transition: opacity .38s ease, transform .38s ease;
    }
    .scene.active{
      opacity:1;
      transform: translateY(0) scale(1);
      pointer-events:auto;
    }

    h1{
      margin:0 0 10px 0;
      font-weight:780;
      font-size: clamp(28px, 4vw, 42px);
      line-height:1.12;
      letter-spacing:-.02em;
    }
    p{
      margin:0 0 18px 0;
      color:var(--muted);
      font-size: clamp(14px, 2.2vw, 16px);
      line-height:1.5;
    }

    .btns{
      display:flex;
      flex-wrap:wrap;
      align-items:center;
      justify-content:center;
      gap:12px;
      margin-top:10px;
    }
    button{
      border:none;
      cursor:pointer;
      border-radius:14px;
      padding:12px 16px;
      font-weight:750;
      font-size:16px;
      transition: transform .12s ease, filter .18s ease, background .18s ease, opacity .18s ease;
      user-select:none;
    }
    button:active{ transform: scale(.98); }
    button:hover{ filter: brightness(1.04); }

    .primary{
      background: var(--btn);
      color: var(--btnText);
      min-width: 200px;
    }
    .ghost{
      background: var(--btnSoft);
      color: var(--btnSoftText);
      border:1px solid rgba(255,255,255,.18);
      min-width: 200px;
    }

    .hint{
      margin-top:12px;
      font-size:13px;
      color: rgba(255,255,255,.70);
      user-select:none;
    }

    .footer{
      margin-top:16px;
      display:flex;
      justify-content:center;
      align-items:center;
      color:rgba(255,255,255,.55);
      font-size:12px;
      user-select:none;
    }
    .progress{ display:flex; gap:8px; align-items:center; }
    .dot{
      width:9px;height:9px;border-radius:999px;
      border:1px solid rgba(255,255,255,.22);
      background: rgba(255,255,255,.10);
      transition: transform .18s ease, background .18s ease;
    }
    .dot.on{ background: rgba(255,255,255,.92); border-color: rgba(255,255,255,.0); transform: scale(1.08); }

    /* toast */
    .toast{
      position:fixed;
      left:50%;
      bottom:26px;
      transform:translateX(-50%) translateY(8px);
      padding:12px 14px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.18);
      background:rgba(20,18,32,.75);
      color:rgba(255,255,255,.92);
      backdrop-filter:blur(10px);
      box-shadow:0 18px 70px rgba(0,0,0,.45);
      font-weight:700;
      font-size:14px;
      opacity:0;
      pointer-events:none;
      transition:opacity .22s ease, transform .22s ease;
      z-index:9999;
      white-space:nowrap;
      max-width: calc(100vw - 32px);
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .toast.on{
      opacity:1;
      transform:translateX(-50%) translateY(0);
    }

    @media (max-width: 520px){
      .card{ padding:20px; border-radius:22px; }
      button{ min-width: 180px; }
      .stage{ min-height: 380px; }
      .toast{ font-size:13px; }
    }
  </style>
</head>

<body>
  <div class="glow"></div>
  <div class="fx-layer" id="fx"></div>
  <div class="toast" id="toast"></div>

  <div class="wrap">
    <div class="card" role="application" aria-label="–ù–µ–∂–Ω—ã–π –º–∏–Ω–∏-—Å–∞–π—Ç">
      <div class="top">
        <div class="badge">üíå</div>
      </div>

      <div class="stage">
        <!-- 1 -->
        <section class="scene active" data-scene="1">
          <div>
            <h1 id="s1Title"></h1>
            <p id="s1Text"></p>
            <div class="btns">
              <button class="primary" id="s1b1"></button>
              <button class="ghost" id="s1b2"></button>
            </div>
          </div>
        </section>

        <!-- 2 -->
        <section class="scene" data-scene="2">
          <div>
            <h1 id="s2Title"></h1>
            <p id="s2Text"></p>
            <div class="btns">
              <button class="primary" id="s2b1"></button>
              <button class="ghost" id="s2b2"></button>
            </div>
          </div>
        </section>

        <!-- 3 -->
        <section class="scene" data-scene="3">
          <div>
            <h1 id="s3Title"></h1>
            <p id="s3Text"></p>
            <div class="btns">
              <button class="primary" id="s3b1"></button>
              <button class="ghost" id="s3b2"></button>
              <button class="ghost" id="s3b3"></button>
            </div>
          </div>
        </section>

        <!-- 4 -->
        <section class="scene" data-scene="4">
          <div>
            <h1 id="s4Title"></h1>
            <p id="s4Text"></p>
            <div class="btns">
              <button class="primary" id="s4b1"></button>
              <button class="ghost" id="s4b2"></button>
              <button class="ghost" id="s4b3"></button>
            </div>
          </div>
        </section>

        <!-- 5 -->
        <section class="scene" data-scene="5">
          <div>
            <h1 id="finalTitle"></h1>
            <p id="finalText"></p>
            <div class="btns">
              <button class="primary" id="copyBtn">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
              <button class="ghost" id="contactBtn">–ù–∞–ø–∏—Å–∞—Ç—å –º–Ω–µ –≤ Telegram üíå</button>
              <button class="ghost" id="restartBtn">–ï—â—ë —Ä–∞–∑</button>
            </div>
            <div class="hint" id="finalHint">–¢–µ–∫—Å—Ç —É–∂–µ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω üíó</div>
          </div>
        </section>
      </div>

      <div class="footer">
        <div class="progress" aria-label="–ü—Ä–æ–≥—Ä–µ—Å—Å">
          <span class="dot on" data-dot="1"></span>
          <span class="dot" data-dot="2"></span>
          <span class="dot" data-dot="3"></span>
          <span class="dot" data-dot="4"></span>
          <span class="dot" data-dot="5"></span>
        </div>
      </div>
    </div>
  </div>

  <script>
    // =============================
    // CONFIG ‚Äî –º–µ–Ω—è–µ—à—å —Ç—É—Ç –≤—Å—ë
    // =============================
    const CONFIG = {
      name: "–†–∏–Ω–∞",

      telegram: {
        url: "https://t.me/xnryyy_xnryyy",
        buttonLabel: "–ù–∞–ø–∏—Å–∞—Ç—å –º–Ω–µ –≤ Telegram üíå"
      },

      s1: {
        title: (name) => `${name}‚Ä¶ –º–æ–∂–Ω–æ –ø—Ä–∏–∑–Ω–∞—Ç—å—Å—è?`,
        text:  "–ú–æ–∂–Ω–æ —Å–∫–∞–∑–∞—Ç—å –∫–æ–µ-—á—Ç–æ –≤–∞–∂–Ω–æ–µ?",
        b1: { label: "–î–∞",     next: 2 },
        b2: { label: "–î–∞ üíó",  next: 2 }
      },

      s2: {
        title: (name) => `${name}, —Ç—ã –º–Ω–µ –ø—Ä–∞–≤–¥–∞ –Ω—Ä–∞–≤–∏—à—å—Å—è.`,
        text:  "–û—á–µ–Ω—å.",
        b1: { label: "üíó", next: 3 },
        b2: { label: "üíñ", next: 3 }
      },

      s3: {
        title: "–•–æ—á–µ—à—å –≤—Å—Ç—Ä–µ—Ç–∏—Ç—å—Å—è –Ω–∞ –Ω–µ–¥–µ–ª–µ?",
        text:  "–ö–æ—Ñ–µ –∏–ª–∏ –ø—Ä–æ–≥—É–ª–∫–∞ ‚Äî –∫–∞–∫ —Ç–µ–±–µ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–µ–µ.",
        b1: { label: "–î–∞ üíó", action: "goChoose" },
        b2: { label: "–î–∞–≤–∞–π –≤—ã–±–µ—Ä–µ–º –¥–µ–Ω—å üíó", action: "goPickDayFinal" },
        b3: { label: "–ú–Ω–µ –Ω—É–∂–Ω–æ –≤—Ä–µ–º—è ü§ç", action: "goSoftFinal" }
      },

      s4: {
        title: "–¢–æ–≥–¥–∞ –≤—ã–±–µ—Ä–∏ —Ñ–æ—Ä–º–∞—Ç üíó",
        text:  "–ß—Ç–æ —Ç–µ–±–µ –±–ª–∏–∂–µ?",
        b1: { label: "–ö–æ—Ñ–µ ‚òï",     pick: "coffee" },
        b2: { label: "–ü—Ä–æ–≥—É–ª–∫–∞ üåô", pick: "walk" },
        b3: { label: "–ö–∏–Ω–æ üé¨",     pick: "cinema" }
      },

      finals: {
        pickDay: {
          title: (name) => `üíó ${name}‚Ä¶`,
          text:  "–°–∫–æ–ø–∏—Ä—É–π –∏ –æ—Ç–ø—Ä–∞–≤—å ‚Äî –≤—ã–±–µ—Ä–µ–º –¥–µ–Ω—å —Å–ø–æ–∫–æ–π–Ω–æ –∏ –∫—Ä–∞—Å–∏–≤–æ ü§ç",
          copy:  (name) => `${name}, –¥–∞–≤–∞–π –≤—ã–±–µ—Ä–µ–º –¥–µ–Ω—å üíó`,
          hint:  "–¢–µ–∫—Å—Ç —É–∂–µ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω: ¬´–≤—ã–±—Ä–∞—Ç—å –¥–µ–Ω—å¬ª üíó"
        },
        soft: {
          title: (name) => `ü§ç ${name}`,
          text:  "–°–ø–∞—Å–∏–±–æ –∑–∞ —á–µ—Å—Ç–Ω–æ—Å—Ç—å. –Ø –ø—Ä–æ—Å—Ç–æ —Ä–∞–¥(–∞), —á—Ç–æ —Å–∫–∞–∑–∞–ª(–∞) —Ç–µ–±–µ —ç—Ç–æ.",
          copy:  (name) => `${name}, —Å–ø–∞—Å–∏–±–æ‚Ä¶ ü§ç`,
          hint:  "–¢–µ–∫—Å—Ç —É–∂–µ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω ü§ç"
        },
        coffee: {
          title: (name) => `üíó ${name}‚Ä¶`,
          text:  "–°–∫–æ–ø–∏—Ä—É–π –∏ –æ—Ç–ø—Ä–∞–≤—å ‚Äî –∏ —è –ø—Ä–µ–¥–ª–æ–∂—É –ø–∞—Ä—É –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –≤—Ä–µ–º–µ–Ω–∏ üíå",
          copy:  (name) => `${name}, –¥–∞–≤–∞–π –∫–æ—Ñ–µ ‚òïüíó`,
          hint:  "–¢–µ–∫—Å—Ç —É–∂–µ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω: ¬´–∫–æ—Ñ–µ¬ª ‚òïüíó"
        },
        walk: {
          title: (name) => `üíó ${name}‚Ä¶`,
          text:  "–°–∫–æ–ø–∏—Ä—É–π –∏ –æ—Ç–ø—Ä–∞–≤—å ‚Äî –∏ —è –ø—Ä–µ–¥–ª–æ–∂—É –ø–∞—Ä—É –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –≤—Ä–µ–º–µ–Ω–∏ üíå",
          copy:  (name) => `${name}, –¥–∞–≤–∞–π –ø—Ä–æ–≥—É–ª–∫—É üåôüíó`,
          hint:  "–¢–µ–∫—Å—Ç —É–∂–µ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω: ¬´–ø—Ä–æ–≥—É–ª–∫–∞¬ª üåôüíó"
        },
        cinema: {
          title: (name) => `üíó ${name}‚Ä¶`,
          text:  "–°–∫–æ–ø–∏—Ä—É–π –∏ –æ—Ç–ø—Ä–∞–≤—å ‚Äî –∏ —è –ø—Ä–µ–¥–ª–æ–∂—É –ø–∞—Ä—É –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –≤—Ä–µ–º–µ–Ω–∏ üíå",
          copy:  (name) => `${name}, –¥–∞–≤–∞–π –∫–∏–Ω–æ üé¨üíó`,
          hint:  "–¢–µ–∫—Å—Ç —É–∂–µ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω: ¬´–∫–∏–Ω–æ¬ª üé¨üíó"
        }
      }
    };

    // =============================
    // Helpers
    // =============================
    const $ = (id) => document.getElementById(id);
    const scenes = [...document.querySelectorAll(".scene")];
    const dots = [...document.querySelectorAll(".dot")];
    const fxLayer = document.getElementById("fx");
    const toastEl = $("toast");

    let copyPayload = "";
    let toastTimer = null;

    function setActiveScene(id){
      scenes.forEach(s => s.classList.toggle("active", s.dataset.scene === String(id)));
      dots.forEach(d => d.classList.toggle("on", d.dataset.dot === String(id)));
    }

    function spawnHearts(count = 12){
      const emojis = ["üíó","üíñ","üíò","üíû","üíì"];
      for(let i=0;i<count;i++){
        const el = document.createElement("div");
        el.className = "heart";
        el.textContent = emojis[Math.floor(Math.random()*emojis.length)];
        const x = Math.random() * 100;
        const dx = (Math.random()*120 - 60).toFixed(0) + "px";
        el.style.left = x + "vw";
        el.style.setProperty("--dx", dx);
        el.style.animationDuration = (1.6 + Math.random()*0.9).toFixed(2) + "s";
        el.style.fontSize = (16 + Math.random()*10).toFixed(0) + "px";
        fxLayer.appendChild(el);
        el.addEventListener("animationend", () => el.remove());
      }
    }

    document.addEventListener("click", (e) => {
      const btn = e.target.closest("button");
      if(!btn) return;
      spawnHearts(10);
    });

    function showToast(message){
      toastEl.textContent = message;
      toastEl.classList.add("on");
      clearTimeout(toastTimer);
      toastTimer = setTimeout(() => toastEl.classList.remove("on"), 1800);
    }

    async function safeCopy(text){
      try{
        await navigator.clipboard.writeText(text);
        return true;
      }catch{
        try{
          const ta = document.createElement("textarea");
          ta.value = text;
          document.body.appendChild(ta);
          ta.select();
          document.execCommand("copy");
          ta.remove();
          return true;
        }catch{
          return false;
        }
      }
    }

    function goFinal(finalKey){
      const f = CONFIG.finals[finalKey];
      const name = CONFIG.name;

      $("finalTitle").textContent = f.title(name);
      $("finalText").textContent  = f.text;

      copyPayload = f.copy(name);
      $("copyBtn").dataset.copy = copyPayload;

      $("contactBtn").textContent = CONFIG.telegram.buttonLabel;
      $("finalHint").textContent = f.hint || "–¢–µ–∫—Å—Ç —É–∂–µ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω üíó";

      setActiveScene(5);
      spawnHearts(18);
    }

    // =============================
    // Render
    // =============================
    function render(){
      const name = CONFIG.name;

      $("s1Title").textContent = CONFIG.s1.title(name);
      $("s1Text").textContent  = CONFIG.s1.text;
      $("s1b1").textContent = CONFIG.s1.b1.label;
      $("s1b2").textContent = CONFIG.s1.b2.label;

      $("s2Title").textContent = CONFIG.s2.title(name);
      $("s2Text").textContent  = CONFIG.s2.text;
      $("s2b1").textContent = CONFIG.s2.b1.label;
      $("s2b2").textContent = CONFIG.s2.b2.label;

      $("s3Title").textContent = CONFIG.s3.title;
      $("s3Text").textContent  = CONFIG.s3.text;
      $("s3b1").textContent = CONFIG.s3.b1.label;
      $("s3b2").textContent = CONFIG.s3.b2.label;
      $("s3b3").textContent = CONFIG.s3.b3.label;

      $("s4Title").textContent = CONFIG.s4.title;
      $("s4Text").textContent  = CONFIG.s4.text;
      $("s4b1").textContent = CONFIG.s4.b1.label;
      $("s4b2").textContent = CONFIG.s4.b2.label;
      $("s4b3").textContent = CONFIG.s4.b3.label;

      $("contactBtn").textContent = CONFIG.telegram.buttonLabel;
    }
    render();

    // =============================
    // Wire actions
    // =============================
    // Scene 1 -> 2
    $("s1b1").addEventListener("click", () => setActiveScene(CONFIG.s1.b1.next));
    $("s1b2").addEventListener("click", () => setActiveScene(CONFIG.s1.b2.next));

    // Scene 2 -> 3
    $("s2b1").addEventListener("click", () => setActiveScene(CONFIG.s2.b1.next));
    $("s2b2").addEventListener("click", () => setActiveScene(CONFIG.s2.b2.next));

    // Scene 3
    $("s3b1").addEventListener("click", () => setActiveScene(4));
    $("s3b2").addEventListener("click", () => goFinal("pickDay"));
    $("s3b3").addEventListener("click", () => goFinal("soft"));

    // Scene 4
    $("s4b1").addEventListener("click", () => goFinal("coffee"));
    $("s4b2").addEventListener("click", () => goFinal("walk"));
    $("s4b3").addEventListener("click", () => goFinal("cinema"));

    // Copy
    $("copyBtn").addEventListener("click", async () => {
      const text = $("copyBtn").dataset.copy || copyPayload || "";
      const ok = await safeCopy(text);

      if(ok){
        $("copyBtn").textContent = "–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!";
        showToast("–¢–µ–∫—Å—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω üíó");
        setTimeout(()=> $("copyBtn").textContent = "–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å", 900);
      }else{
        showToast("–ù–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å üòø");
      }
    });

    // Contact: copy + open tg + show toast
    $("contactBtn").addEventListener("click", async () => {
      const text = $("copyBtn").dataset.copy || copyPayload || "";
      const ok = await safeCopy(text);

      if(ok){
        showToast("–¢–µ–∫—Å—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω ‚Äî –≤—Å—Ç–∞–≤—å –≤ —á–∞—Ç üíó");
      }else{
        showToast("–°–∫–æ–ø–∏—Ä—É–π –≤—Ä—É—á–Ω—É—é –∫–Ω–æ–ø–∫–æ–π ¬´–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å¬ª ü§ç");
      }

      window.open(CONFIG.telegram.url, "_blank", "noopener");
    });

    // Restart
    $("restartBtn").addEventListener("click", () => {
      setActiveScene(1);
      spawnHearts(12);
    });

    // start effect
    setTimeout(()=>spawnHearts(10), 220);
  </script>
</body>
</html>
